!function(r){r(window).on("elementor/frontend/init",()=>{class e extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{outerWrap:".pp-video",videoPlay:".pp-video-play",videoOverlay:".pp-video-overlay",playButton:".pp-player-controls-play",screen:".pp-device-screen",volumeBar:".pp-player-controls-volume-bar",deviceContainer:".pp-device-container",swiperContainer:".pp-swiper-slider",swiperSlide:".swiper-slide"}}}getDefaultElements(){var e=this.getSettings("selectors");return{$outerWrap:this.$element.find(e.outerWrap),$videoPlay:this.$element.find(e.videoPlay),$videoOverlay:this.$element.find(e.videoOverlay),$playButton:this.$element.find(e.playButton),$screen:this.$element.find(e.screen),$volumeBar:this.$element.find(e.volumeBar),$deviceContainer:this.$element.find(e.deviceContainer),$swiperContainer:this.$element.find(e.swiperContainer),$swiperSlide:this.$element.find(e.swiperSlide)}}getSliderSettings(e){var t=undefined!==this.elements.$swiperContainer.data("slider-settings")?this.elements.$swiperContainer.data("slider-settings"):"";return void 0!==e&&"undefined"!==t[e]?t[e]:t}getEffect(){return this.getSliderSettings("effect")}getSwiperOptions(){var e,t,s=this.getSliderSettings(),i={grabCursor:"yes"===s.grab_cursor,slidesPerView:1,slidesPerGroup:1,loop:"yes"===s.loop,centeredSlides:"yes"===s.centered_slides,speed:s.speed,autoHeight:s.auto_height,effect:this.getEffect(),preventClicksPropagation:!1,slideToClickedSlide:!0};return"fade"===this.getEffect()&&(i.fadeEffect={crossFade:!0}),"yes"===s.keyboard&&(i.keyboard={enabled:!0}),s.show_arrows&&(t=this.isEdit?".elementor-swiper-button-prev":".swiper-button-prev-"+this.getID(),e=this.isEdit?".elementor-swiper-button-next":".swiper-button-next-"+this.getID(),i.navigation={prevEl:t,nextEl:e}),s.pagination&&(t=this.isEdit?".swiper-pagination":".swiper-pagination-"+this.getID(),i.pagination={el:t,type:s.pagination,clickable:!0}),!this.isEdit&&s.autoplay&&(i.autoplay={delay:s.autoplay_speed,disableOnInteraction:!!s.pause_on_interaction}),i}bindEvents(){this.initVideo(),this.initHostedVideo(),0!==this.$element.find(".pp-device-slider").length&&this.initSlider()}initVideo(){let t=this;this.elements.$videoPlay.off("click").on("click",function(e){e.preventDefault();e=r(this).find(".pp-video-player");t.videoPlay(e,t.elements.$outerWrap)}),elementorFrontend.isEditMode()||"1"==this.elements.$videoPlay.data("autoplay")&&t.videoPlay(this.$element.find(".pp-video-player"),this.elements.$outerWrap),this.orientationControl()}videoPlay(e,t){var s,i=r("<iframe/>"),n=e.data("src");0===e.find("iframe").length&&((t.hasClass("pp-video-type-youtube")||t.hasClass("pp-video-type-vimeo")||t.hasClass("pp-video-type-dailymotion"))&&i.attr("src",n),i.attr("frameborder","0"),i.attr("allowfullscreen","1"),i.attr("allow","autoplay;encrypted-media;"),e.html(i),t.hasClass("pp-video-type-hosted"))&&(s=JSON.parse(t.data("hosted-html")),i.on("load",function(){i.contents().find("body").html(s),i.contents().find("video").css({width:"100%",height:"100%"}),i.contents().find("video").attr("autoplay","autoplay")}))}initHostedVideo(){var e=this.getElementSettings(),t=this.$element.find(".pp-video-player-source"),s=t.get(0),i=e.video_source;"yes"===e.stop_others&&r("video").on("play",function(){r("video").not(this).each(function(e,t){var s=r(t).parent().find(".pp-player-controls-play");s.removeClass("pp-pause"),s.addClass("pp-play"),t.pause()})}),this.playerControls(t,s),"hosted"==i&&(this.initHostedPlay(s),this.initScreenPlay(s))}playerControls(e,t){const s=this.getElementSettings(),i=this.elements.$playButton,n=this.$element.find(".pp-player-controls-rewind"),a=s.autoplay,l=s.playback_speed;e.on("loadedmetadata",function(){"yes"===a&&i.first().trigger("click"),t.playbackRate=l.size;var e=new Date(null),e=(e.setSeconds(t.duration),e.toISOString().substr(11,8));this.$element.find(".pp-player-controls-duration").text(e)}.bind(this)),e.on("timeupdate",function(){var e=100*t.currentTime/t.duration,e=(this.$element.find(".pp-player-control-progress-track.pp-player-control-progress-inner").css("width",e+"%"),new Date(null)),e=(e.setSeconds(t.currentTime),e.toISOString().substr(11,8));this.$element.find(".pp-player-controls-time").text(e),t.currentTime===t.duration&&(this.elements.$screen.removeClass("pp-paused"),this.elements.$screen.removeClass("pp-playing"),i.removeClass("pp-pause"),i.addClass("pp-play"),(i.hasClass("pp-play")?(i.find(".fa-play, .e-fas-fa-play").show(),i.find(".fa-pause, .e-fas-fa-pause")):(i.find(".fa-pause, .e-fas-fa-pause").show(),i.find(".fa-play, .e-fas-fa-play"))).hide(),this.$element.find(".pp-player-controls-time").text("00:00"),this.$element.find(".pp-player-control-progress-track.pp-player-control-progress-inner").css("width","0%"),this.elements.$videoOverlay.css("opacity",""))}.bind(this)),e.on("play",function(){this.elements.$videoOverlay.css("opacity","0")}.bind(this)),e.on("pause",function(){this.$element.find(".pp-player-controls-rewind.pp-video-button").show(),this.elements.$videoOverlay.css("opacity","")}.bind(this)),this.$element.find(".pp-player-controls-volume-icon").click(function(){return r(this).hasClass("fa-volume-up")?(r(this).removeClass("fa-volume-up"),r(this).addClass("fa-volume-mute")):r(this).hasClass("fa-volume-mute")&&(r(this).removeClass("fa-volume-mute"),r(this).addClass("fa-volume-up")),t.muted=!t.muted,!1});var o=!1,p=(this.elements.$volumeBar.mousedown(function(e){o=!0,this.updateVolumeBar(e.pageX,t)}.bind(this)),this.elements.$volumeBar.mouseup(function(e){o&&(o=!1,this.updateVolumeBar(e.pageX,t))}.bind(this)),this.elements.$volumeBar.mousemove(function(e){o&&this.updateVolumeBar(e.pageX,t)}.bind(this)),n.on("click",function(){return t.currentTime=0,!1}),!1);this.$element.find(".pp-player-controls-progress").mousedown(function(e){p=!0,this.updatebar(e.pageX,t)}.bind(this)),this.$element.find(".pp-player-controls-progress").mouseup(function(e){p&&(p=!1,this.updatebar(e.pageX,t))}.bind(this)),this.$element.find(".pp-player-controls-progress").mousemove(function(e){p&&this.updatebar(e.pageX,t)}.bind(this)),this.initFullScreen(t)}initHostedPlay(t){const e=this.getElementSettings(),s=this.elements.$screen,i=this.elements.$playButton;let n=e.restart_on_pause;"yes"===n&&(n=!0),i.on("click",function(e){return r(this).hasClass("pp-play")?(t.play(),i.removeClass("pp-play"),i.addClass("pp-pause"),s.removeClass("pp-paused"),s.addClass("pp-playing")):r(this).hasClass("pp-pause")&&(t.pause(),i.removeClass("pp-pause"),i.addClass("pp-play"),s.removeClass("pp-playing"),s.addClass("pp-paused"),n)&&(t.currentTime=0),(i.hasClass("pp-play")?(i.find(".fa-play, .e-fas-fa-play").show(),i.find(".fa-pause, .e-fas-fa-pause")):(i.find(".fa-pause, .e-fas-fa-pause").show(),i.find(".fa-play, .e-fas-fa-play"))).hide(),!1})}initScreenPlay(t){const e=this.getElementSettings(),s=this.elements.$screen,i=this.elements.$playButton,n=e.video_show_buttons;let a=!1;"show"!==n&&s.on("click",function(e){r(this).hasClass("pp-device-screen-video")&&(a?a?(t.pause(),s.removeClass("pp-playing"),s.addClass("pp-paused"),i.removeClass("pp-pause"),i.addClass("pp-play"),a=!1):(i.hasClass("pp-play")?(i.find(".fa-play, .e-fas-fa-play").show(),i.find(".fa-pause, .e-fas-fa-pause")):(i.find(".fa-pause, .e-fas-fa-pause").show(),i.find(".fa-play, .e-fas-fa-play"))).hide():(t.play(),s.removeClass("pp-paused"),s.addClass("pp-playing"),i.removeClass("pp-play"),i.addClass("pp-pause"),a=!0))})}initFullScreen(e){this.$element.find(".pp-player-controls-fs").on("click",function(){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.webkitEnterFullscreen?e.webkitEnterFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.msRequestFullscreen?e.msRequestFullscreen():alert("Your browser doesn't support fullscreen")})}updateVolumeBar(e,t){var s=this.elements.$volumeBar,e=(e-s.offset().left)/s.width(),s=100*e;1<e&&(e=1,s=100),e<0&&(s=e=0),t.volume=e,this.$element.find(".pp-player-controls-volume-bar-amount.pp-player-control-progress-inner").css("width",s+"%")}updatebar(e,t){var s=this.getElementSettings().end_at_last_frame,i=this.$element.find(".pp-player-controls-progress"),n=t.duration;let a=100*(e-i.offset().left)/i.width();(a=100<a?100:a)<0&&(a=0),t.currentTime=n*a/100,this.$element.find(".pp-player-controls-progress-time.pp-player-control-progress-inner").css("width",a+"%"),"yes"===s&&"yes"!==loop&&100===a&&(this.elements.$playButton.removeClass("pp-pause"),this.elements.$playButton.addClass("pp-play"))}orientationControl(){const t=this;this.$element.find(".pp-device-orientation .fas.fa-mobile").click(function(e){r(this).hasClass("pp-mobile-icon-portrait")?(t.elements.$deviceContainer.removeClass("pp-device-orientation-portrait"),t.elements.$deviceContainer.addClass("pp-device-orientation-landscape"),r(this).removeClass("pp-mobile-icon-portrait"),r(this).addClass("pp-mobile-icon-landscape")):r(this).hasClass("pp-mobile-icon-landscape")&&(t.elements.$deviceContainer.removeClass("pp-device-orientation-landscape"),t.elements.$deviceContainer.addClass("pp-device-orientation-portrait"),r(this).addClass("pp-mobile-icon-portrait"),r(this).removeClass("pp-mobile-icon-landscape"))})}async initSlider(){var e=this.getElementSettings(),t=elementorFrontend.utils.swiper;this.swiper=await new t(this.elements.$swiperContainer,this.getSwiperOptions()),"yes"===e.pause_on_hover&&this.togglePauseOnHover(!0)}togglePauseOnHover(e){e?this.elements.$swiperContainer.on({mouseenter:()=>{this.swiper.autoplay.stop()},mouseleave:()=>{this.swiper.autoplay.start()}}):this.elements.$swiperContainer.off("mouseenter mouseleave")}setEqualHeight(){let e=0;this.elements.$swiperSlide.each(function(){r(this).height()>e&&(e=r(this).height())}),this.elements.$swiperContainer.css("height",e+70+"px")}}elementorFrontend.elementsHandler.attachHandler("pp-devices",e)})}(jQuery);