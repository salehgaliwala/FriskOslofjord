jQuery(window).on("elementor/frontend/init",()=>{class o extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{map:".pp-google-map"}}}getDefaultElements(){var o=this.getSettings("selectors");return{$map:this.$element.find(o.map)}}bindEvents(){this.initMap()}initMap(){var o=this.getElementSettings(),e=this.getID(),t=this.elements.$map,n=t.data("locations")||[],i=t.data("zoom")||4,a=t.data("zoomtype")||"auto",s=o.map_type||"roadmap",l="yes"===o.map_option_streeview,r="yes"===o.map_type_control,p="yes"===o.zoom_control,m="yes"===o.fullscreen_control,d="yes"===o.map_scroll_zoom?"auto":"none",g=t.data("custom-style")||"",o=o.marker_animation||"",c=parseInt(t.data("iw-max-width"),10)||null,o=this.getMarkerAnimation(o),i=this.getMapOptions({zoom:i,mapType:s,streetViewControl:l,mapTypeControl:r,zoomControl:p,fullScreenControl:m,scrollZoom:d,mapStyle:g,locations:n}),s=new google.maps.Map(t[0],i),l=new google.maps.InfoWindow,r=new google.maps.LatLngBounds;this.addMarkers({locations:n,map:s,infowindow:l,bounds:r,zoomType:a,markerAnimation:o,iwMaxWidth:c}),window["pp_map_"+e]=s}getMarkerAnimation(o){switch(o){case"drop":return google.maps.Animation.DROP;case"bounce":return google.maps.Animation.BOUNCE;default:return null}}getMapOptions({zoom:o,mapType:e,streetViewControl:t,mapTypeControl:n,zoomControl:i,fullScreenControl:a,scrollZoom:s,mapStyle:l,locations:r}){return{zoom:o,center:new google.maps.LatLng(r[0]?.lat||0,r[0]?.lang||0),mapTypeId:e,mapTypeControl:n,streetViewControl:t,zoomControl:i,fullscreenControl:a,gestureHandling:s,styles:l}}addMarkers({locations:o,map:g,infowindow:c,bounds:w,zoomType:u,markerAnimation:f,iwMaxWidth:h}){o.forEach(o=>{let{lat:e,lang:t,infowindow:n,title:i,description:a,marker_type:s,icon_url:l,icon_size:r,iw_open:p}=o;if(e&&t){var o=this.getMarkerIcon(s,l,r),m=new google.maps.LatLng(e,t);"auto"===u&&(w.extend(m),g.fitBounds(w));const d=new google.maps.Marker({position:m,map:g,title:i,icon:o,animation:f});"yes"===n&&"iw_open"===p&&this.openInfoWindow({infowindow:c,map:g,marker:d,title:i,description:a,iwMaxWidth:h}),google.maps.event.addListener(d,"click",()=>{this.openInfoWindow({infowindow:c,map:g,marker:d,title:i,description:a,iwMaxWidth:h})}),google.maps.event.addListener(g,"click",()=>{c.close()})}})}getMarkerIcon(o,e,t){return"custom"!==o?null:(o=parseInt(t,10)||null,t={url:e},isNaN(o)||(t.scaledSize=new google.maps.Size(o,o),t.origin=new google.maps.Point(0,0)),t)}openInfoWindow({infowindow:o,map:e,marker:t,title:n,description:i,iwMaxWidth:a}){let s=`<div class="pp-infowindow-content">
					<div class="pp-infowindow-title">${n}</div>`;i&&(s+=`<div class="pp-infowindow-description">${i}</div>`);n={content:s+="</div>"};a&&(n.maxWidth=a),o.setOptions(n),o.open(e,t)}}elementorFrontend.elementsHandler.attachHandler("pp-google-maps",o)});