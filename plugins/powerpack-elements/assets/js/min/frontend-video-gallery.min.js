!function(o){o(window).on("elementor/frontend/init",()=>{class e extends elementorModules.frontend.handlers.Base{getDefaultSettings(){return{selectors:{gallery:".pp-video-gallery",swiperContainer:".pp-swiper-slider",swiperSlide:".swiper-slide",itemWrap:".pp-grid-item-wrap",pagination:".pp-video-gallery-pagination"},slidesPerView:{widescreen:3,desktop:3,laptop:3,tablet_extra:3,tablet:2,mobile_extra:2,mobile:1},effect:"slide"}}getDefaultElements(){var e=this.getSettings("selectors");return{$gallery:this.$element.find(e.gallery),$swiperContainer:this.$element.find(e.swiperContainer),$swiperSlide:this.$element.find(e.swiperSlide),$itemWrap:this.$element.find(e.itemWrap),$pagination:this.$element.find(e.pagination)}}getSliderSettings(e){var t=undefined!==this.elements.$swiperContainer.data("slider-settings")?this.elements.$swiperContainer.data("slider-settings"):"";return void 0!==e&&"undefined"!==t[e]?t[e]:t}getSlidesCount(){return this.elements.$swiperSlide.length}getEffect(){return this.getSliderSettings("effect")||this.getSettings("effect")}getDeviceSlidesPerView(e){var t="slides_per_view"+("desktop"===e?"":"_"+e);return Math.min(this.getSlidesCount(),+this.getSliderSettings(t)||this.getSettings("slidesPerView")[e])}getSlidesPerView(e){return"slide"===this.getEffect()?this.getDeviceSlidesPerView(e):1}getDeviceSlidesToScroll(e){e="slides_to_scroll"+("desktop"===e?"":"_"+e);return Math.min(this.getSlidesCount(),+this.getElementSettings(e)||1)}getSlidesToScroll(e){return"slide"===this.getEffect()?this.getDeviceSlidesToScroll(e):1}getSpaceBetween(e){return e&&"desktop"!==e&&0,elementorFrontend.utils.controls.getResponsiveControlValue(this.getSliderSettings(),"space_between","size",e)||0}getSwiperOptions(){var e=this.isEdit,t=this.getSliderSettings(),i=this.getEffect(),s="yes"===t.loop,n="yes"===t.centered_slides,l="yes"===t.grab_cursor,r=t.autoplay,o=!!t.pause_on_interaction,l={grabCursor:l,slidesPerView:this.getSlidesPerView("desktop"),slidesPerGroup:this.getSlidesToScroll("desktop"),spaceBetween:this.getSpaceBetween(),loop:s,centeredSlides:n,speed:t.speed,autoHeight:t.auto_height,effect:i,watchSlidesVisibility:!0,watchSlidesProgress:!0,preventClicksPropagation:!1,slideToClickedSlide:!0,handleElementorBreakpoints:!0};if("fade"===i&&(l.fadeEffect={crossFade:!0}),t.show_arrows&&(s=e?".elementor-swiper-button-prev":".swiper-button-prev-"+this.getID(),n=e?".elementor-swiper-button-next":".swiper-button-next-"+this.getID(),l.navigation={prevEl:s,nextEl:n}),t.pagination&&(s=e?".swiper-pagination":".swiper-pagination-"+this.getID(),l.pagination={el:s,type:t.pagination,clickable:!0}),"cube"!==i){const a={},d=elementorFrontend.config.responsive.activeBreakpoints;Object.keys(d).forEach(e=>{var t=d[e].value;a[t]={slidesPerView:this.getSlidesPerView(e),slidesPerGroup:this.getSlidesToScroll(e)},this.getSpaceBetween(e)&&(a[t].spaceBetween=this.getSpaceBetween(e))}),l.breakpoints=a}return!e&&r&&(l.autoplay={delay:t.autoplay_speed,disableOnInteraction:o}),l}bindEvents(){var e=this.getElementSettings(),t=this.elements.$gallery.data("action");"inline"===t?this.inlineVideoPlay():"lightbox"===t&&this.lightboxVideoPlay(),elementorFrontend.isEditMode()||"grid"===e.layout&&this.initFilters(),"carousel"===e.layout?this.initSlider():this.initPagination()}inlineVideoPlay(){const e=this.$element.find(".pp-video-play"),t=this.getElementSettings(),s="carousel"===t.layout?this.elements.$swiperSlide:this.elements.$itemWrap;e.off("click").on("click",function(e){e.preventDefault(),s.each(function(){var e=o(this),t=e.find(".pp-video-player"),e=e.find(".pp-video-thumb-wrap"),t=t.find("iframe");t.length&&(t.remove(),e.show())});var e=o(this),t=e.data("src"),i=e.find(".pp-video-player"),e=e.find(".pp-video-thumb-wrap"),t=o("<iframe/>",{src:t,frameborder:"0",allowfullscreen:"1",allow:"autoplay;encrypted-media;"});e.hide(),i.append(t)})}lightboxVideoPlay(){o.fancybox.defaults.media.dailymotion={matcher:/dailymotion.com\/video\/(.*)\/?(.*)/,params:{additionalInfos:0,autoStart:1},type:"iframe",url:"//www.dailymotion.com/embed/video/$1"}}initFilters(){const e=this.elements.$gallery;if(e.hasClass("pp-video-gallery-filter-enabled")){const t={itemSelector:".pp-grid-item-wrap",layoutMode:"fitRows",percentPosition:!0};this.$element.imagesLoaded(()=>{const i=e.isotope(t);this.$element.on("click",".pp-gallery-filter",function(){var e=o(this),t=e.data("filter");e.siblings().removeClass("pp-active"),e.addClass("pp-active"),i.isotope({filter:t})})})}}async initSlider(){var e=this.getElementSettings(),t=elementorFrontend.utils.swiper;this.swiper=await new t(this.elements.$swiperContainer,this.getSwiperOptions()),"yes"===e.pause_on_hover&&this.togglePauseOnHover(!0)}togglePauseOnHover(e){e?this.elements.$swiperContainer.on({mouseenter:()=>{this.swiper.autoplay.stop()},mouseleave:()=>{this.swiper.autoplay.start()}}):this.elements.$swiperContainer.off("mouseenter mouseleave")}initPagination(){if(this.elements.$pagination.length){var s=o(this.$element.find("script.pp-video-gallery-pagination-items").html()),e=this.elements.$pagination.data("per-page"),n=0,l=e,r=this;const t={itemSelector:".pp-grid-item-wrap",layoutMode:"fitRows",percentPosition:!0};this.$element.imagesLoaded(()=>{const i=r.elements.$gallery.isotope(t);this.elements.$pagination.find("a").on("click",function(e){e.preventDefault();for(var t=n;t<l;t++)i.isotope("insert",s[t]),n+=1;l+=n,s.length<n&&(n=s.length),s.length==n&&r.elements.$pagination.remove()})})}}}elementorFrontend.elementsHandler.attachHandler("pp-video-gallery",e)})}(jQuery);