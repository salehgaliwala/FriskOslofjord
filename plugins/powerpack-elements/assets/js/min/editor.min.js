!function(e){var t=e.modules.controls.Select2.extend({cache:null,isTitlesReceived:!1,getSelect2Placeholder:function(){return{id:"",text:this.model.get("placeholder")||"All"}},getSelect2DefaultOptions:function(){var n=this;return jQuery.extend(e.modules.controls.Select2.prototype.getSelect2DefaultOptions.apply(this,arguments),{ajax:{transport:function(e,t,o){e={q:e.data.q,query_type:n.model.get("query_type"),query_options:n.model.get("query_options"),object_type:n.model.get("object_type")};return elementorCommon.ajax.addRequest("pp_query_control_filter_autocomplete",{data:e,success:t,error:o})},data:function(e){return{q:e.term,page:e.page}},cache:!0},escapeMarkup:function(e){return e},minimumInputLength:1})},getValueTitles:function(){var t=this,e=this.getControlValue(),o=this.model.get("query_type"),n=this.model.get("query_options"),i=this.model.get("object_type");e&&o&&(_.isArray(e)||(e=[e]),elementorCommon.ajax.loadObjects({action:"pp_query_control_value_titles",ids:e,data:{query_type:o,query_options:n,object_type:i,unique_id:""+t.cid+o},success:function(e){t.isTitlesReceived=!0,t.model.set("options",e),t.render()},before:function(){t.addSpinner()}}))},addSpinner:function(){this.ui.select.prop("disabled",!0),this.$el.find(".elementor-control-title").after('<span class="elementor-control-spinner pp-control-spinner">&nbsp;<i class="fa fa-spinner fa-spin"></i>&nbsp;</span>')},onReady:function(){setTimeout(e.modules.controls.Select2.prototype.onReady.bind(this)),this.ui.select&&"templates"===this.ui.select.data("setting")&&o(this.ui.select),this.isTitlesReceived||this.getValueTitles()},onBeforeDestroy:function(){this.ui.select.data("select2")&&this.ui.select.select2("destroy"),this.$el.remove()}});const o=e=>{var t;jQuery(e).siblings(".ppe-elementor-control-quick-edit").remove(),jQuery(e).val()&&(!jQuery.isArray(jQuery(e).val())||jQuery.isArray(jQuery(e).val())&&1==jQuery(e).val().length)?(t=ElementorConfig.home_url+"/wp-admin/post.php?post="+jQuery(e).val()+"&action=elementor",jQuery(e).parent().append('<div class="elementor-control-unit-1 tooltip-target ppe-elementor-control-quick-edit" data-tooltip="Quick Edit"><a href="'+t+'" target="_blank" class="ppe-quick-edit-btn"><i class="eicon-pencil"></i></a></div>')):(t=ElementorConfig.home_url+"/wp-admin/edit.php?post_type=elementor_library#add_new",jQuery(e).parent().append('<div class="elementor-control-unit-1 tooltip-target ppe-elementor-control-quick-edit" data-tooltip="Add New"><a href="'+t+'" target="_blank" class="ppe-quick-edit-btn"><i class="eicon-plus"></i></a></div>'))};e.addControlView("pp-query",t),jQuery(document).on("change",".elementor-control-type-pp-query select",function(){o(this)});var n=function(){$e.run("document/save/auto",{force:!0,onSuccess:function(){e.reloadPreview()}})};e.on("document:loaded",function(){e.channels.editor.on("ppWooBuilder:ApplyPreview",n)}),e.on("document:unload",function(){e.channels.editor.on("ppWooBuilder:ApplyPreview",n)}),e.channels.editor.on("section:activated",function(e,t){var o,t=t.getOption("editedElementView");"pp-flipbox"!==t.model.get("widgetType")||(e=-1!==["section_back","section_back_style","section_info_box_button_style"].indexOf(e),t.$el.toggleClass("pp-flip-box--flipped",e),o=t.$el.find(".pp-flipbox-back"),e&&o.css("transition","none"),e)||setTimeout(function(){o.css("transition","")},10)})}(elementor,(jQuery,window));