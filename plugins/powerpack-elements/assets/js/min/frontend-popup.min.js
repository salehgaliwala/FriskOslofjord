!function(a){a(window).on("elementor/frontend/init",()=>{class e extends elementorModules.frontend.handlers.Base{getDefaultSettings(){var e=this.$element.find(".pp-modal-popup").data("popup-settings");return{selectors:{popup:".pp-modal-popup"},popupType:e.popupType,src:e.src,triggerElement:e.triggerElement,popupDisableOn:undefined!==e.disableOn?e.disableOn:"",iframeClass:undefined!==e.iframeClass?e.iframeClass:"",displayAfter:undefined!==e.displayAfter?e.displayAfter:"",queryParameter:e.queryParameter}}getDefaultElements(){var e=this.getSettings("selectors");return{$popup:this.$element.find(e.popup)}}getPopupArgs(){const e=this.getElementSettings(),t=this.getSettings(),i=e.close_button_position,p="yes"===e.prevent_scroll;return{disableOn:t.popupDisableOn,showCloseBtn:"yes"===e.close_button,enableEscapeKey:"yes"===e.esc_exit,closeOnBgClick:"yes"===e.click_exit,closeOnContentClick:"yes"===e.content_close,closeMarkup:'<div class="mfp-close">&#215;</div>',closeBtnInside:"win-top-left"!==i&&"win-top-right"!==i,removalDelay:500,callbacks:{open:function(){a(document).trigger("ppe-popup-opened",[this.getID()]),p||a("html").css({overflow:""})}.bind(this),close:function(){p||a("html").css({overflow:"hidden"})}}}}bindEvents(){if(!this.$element.hasClass("pp-visibility-hidden")){this.initPreview();const i=this.getElementSettings(),p=this.getSettings(),s=i.trigger,n=p.queryParameter,o=i.enable_url_trigger;var e=a(".pp-modal-popup-link"),t=(a(window).on("load",function(){"yes"===o&&this.initTriggerPopup()}.bind(this)),this.getPopupArgs());undefined!==t.disableOn&&a(window).width()>t.disableOn||undefined===t.disableOn?(e.show(),"exit-intent"===s?this.initExitIntentPopup():"page-load"===s?this.initPageLoadPopup():"query_parameter"===s?1===n&&(t.items={src:p.src},a.magnificPopup.open(t)):this.initOnClickPopup()):e.hide()}}getMainClass(){var e=this.getElementSettings(),t=e.overlay_switch,i="pp-modal-popup-"+e.layout_type,p=e.close_button_position,e="animated "+e.popup_animation_in;let s=" pp-modal-popup-"+this.getID()+" "+i+" "+p+" "+e;return"yes"!==t&&(s+=" pp-no-overlay"),s}initPreview(){var e=this.getID(),t=this.getSettings(),i=this.getPopupArgs();a.magnificPopup.close(),a("#pp-modal-popup-wrap-"+e).hasClass("pp-popup-preview")&&(i.items={src:t.src,type:t.popupType},i.mainClass=this.getMainClass(),a.magnificPopup.open(i))}initTriggerPopup(){var e=window.location.href.split("#")[1];this.loadURLPopup(e);let i=this;a("a").click(function(e){var t=a(this).attr("href");t&&t.startsWith("#")&&(t=t.slice(1),0<a("[data-url-identifier='"+t+"']").length)&&(e.preventDefault(),i.loadURLPopup(t))})}loadURLPopup(e){var t=this.getSettings(),i=(t.src,this.getPopupArgs());e&&(e=a("[data-url-identifier='"+e+"']").data("src"))&&(i.items={src:e,type:t.popupType},i.mainClass=this.getMainClass(),a.magnificPopup.open(i))}initExitIntentPopup(){const e=this.getSettings(),t=e.displayAfter,i="popup_"+this.getID();let p=this.getPopupArgs(),s;0===t&&a.removeCookie(i,{path:"/"}),p.items={src:e.src},p.type=e.popupType,p.mainClass="mfp-fade mfp-fade-side",a(document).on("mouseleave",function(e){(s=e.clientY)<0&&!a.cookie(i)&&(a.magnificPopup.open(p),0<t?a.cookie(i,t,{expires:t,path:"/"}):a.removeCookie(i))})}initPageLoadPopup(){const e=this.getSettings(),t=e.displayAfter,i="popup_"+this.getID();let p=this.getPopupArgs();0===t&&a.removeCookie(i,{path:"/"}),p.items={src:e.src},p.type=e.popupType,a.cookie(i)||setTimeout(function(){a.magnificPopup.open(p),0<t?a.cookie(i,t,{expires:t,path:"/"}):a.removeCookie(i)},e.delay)}initOnClickPopup(){var e=this.getSettings();let t=this.getPopupArgs(),i=e.triggerElement;"string"!==i&&""!==i||(i=".pp-modal-popup-link"),t.iframe={markup:'<div class="'+e.iframeClass+'"><div class="modal-popup-window-inner"><div class="mfp-iframe-scaler"><div class="mfp-close"></div><iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe></div></div></div>'},t.items={src:e.src,type:e.popupType},t.mainClass=this.getMainClass(),a(i).magnificPopup(t)}}elementorFrontend.elementsHandler.attachHandler("pp-modal-popup",e)})}(jQuery);