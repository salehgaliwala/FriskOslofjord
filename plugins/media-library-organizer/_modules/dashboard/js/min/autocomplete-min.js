var __webpack_modules__={897:function(o){!function(u,a){true?o.exports=a():0}(this,function(){"use strict";function e(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}function t(o,u){for(var a=0;a<u.length;a++){var c=u[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}function n(o,u,a){return u&&t(o.prototype,u),a&&t(o,a),o}function i(o,u){return function(o){if(Array.isArray(o))return o}(o)||function(o,u){if(!(Symbol.iterator in Object(o)||"[object Arguments]"===Object.prototype.toString.call(o)))return;var a=[],c=!0,l=!1,s=void 0;try{for(var h,d=o[Symbol.iterator]();!(c=(h=d.next()).done)&&(a.push(h.value),!u||a.length!==u);c=!0);}catch(o){l=!0,s=o}finally{try{c||null==d.return||d.return()}finally{if(l)throw s}}return a}(o,u)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}if(Array.prototype.find||(Array.prototype.find=function(o){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof o)throw new TypeError("predicate must be a function");for(var u,a=Object(this),c=a.length>>>0,l=arguments[1],s=0;s<c;s++)if(u=a[s],o.call(l,u,s,a))return u}),window&&"function"!=typeof window.CustomEvent){var r=function(o,u){u=u||{bubbles:!1,cancelable:!1,detail:void 0};var a=document.createEvent("CustomEvent");return a.initCustomEvent(o,u.bubbles,u.cancelable,u.detail),a};void 0!==window.Event&&(r.prototype=window.Event.prototype),window.CustomEvent=r}var o=function(){function t(o){e(this,t),this.tribute=o,this.tribute.events=this}return n(t,[{key:"bind",value:function(o){o.boundKeydown=this.keydown.bind(o,this),o.boundKeyup=this.keyup.bind(o,this),o.boundInput=this.input.bind(o,this),o.addEventListener("keydown",o.boundKeydown,!1),o.addEventListener("keyup",o.boundKeyup,!1),o.addEventListener("input",o.boundInput,!1)}},{key:"unbind",value:function(o){o.removeEventListener("keydown",o.boundKeydown,!1),o.removeEventListener("keyup",o.boundKeyup,!1),o.removeEventListener("input",o.boundInput,!1),delete o.boundKeydown,delete o.boundKeyup,delete o.boundInput}},{key:"keydown",value:function(o,u){o.shouldDeactivate(u)&&(o.tribute.isActive=!1,o.tribute.hideMenu());var a=this;o.commandEvent=!1,t.keys().forEach(function(c){c.key===u.keyCode&&(o.commandEvent=!0,o.callbacks()[c.value.toLowerCase()](u,a))})}},{key:"input",value:function(o,u){o.inputEvent=!0,o.keyup.call(this,o,u)}},{key:"click",value:function(o,u){var a=o.tribute;if(a.menu&&a.menu.contains(u.target)){var c=u.target;for(u.preventDefault(),u.stopPropagation();"li"!==c.nodeName.toLowerCase();)if(!(c=c.parentNode)||c===a.menu)throw new Error("cannot find the <li> container for the click");a.selectItemAtIndex(c.getAttribute("data-index"),u),a.hideMenu()}else a.current.element&&!a.current.externalTrigger&&(a.current.externalTrigger=!1,setTimeout(function(){return a.hideMenu()}))}},{key:"keyup",value:function(o,u){if(o.inputEvent&&(o.inputEvent=!1),o.updateSelection(this),27!==u.keyCode){if(!o.tribute.allowSpaces&&o.tribute.hasTrailingSpace)return o.tribute.hasTrailingSpace=!1,o.commandEvent=!0,void o.callbacks().space(u,this);if(!o.tribute.isActive)if(o.tribute.autocompleteMode)o.callbacks().triggerChar(u,this,"");else{var a=o.getKeyCode(o,this,u);if(isNaN(a)||!a)return;var c=o.tribute.triggers().find(function(o){return o.charCodeAt(0)===a});void 0!==c&&o.callbacks().triggerChar(u,this,c)}o.tribute.current.mentionText.length<o.tribute.current.collection.menuShowMinLength||((o.tribute.current.trigger||o.tribute.autocompleteMode)&&!1===o.commandEvent||o.tribute.isActive&&8===u.keyCode)&&o.tribute.showMenuFor(this,!0)}}},{key:"shouldDeactivate",value:function(o){if(!this.tribute.isActive)return!1;if(0===this.tribute.current.mentionText.length){var u=!1;return t.keys().forEach(function(a){o.keyCode===a.key&&(u=!0)}),!u}return!1}},{key:"getKeyCode",value:function(o,u,a){var c=o.tribute,l=c.range.getTriggerInfo(!1,c.hasTrailingSpace,!0,c.allowSpaces,c.autocompleteMode);return!!l&&l.mentionTriggerChar.charCodeAt(0)}},{key:"updateSelection",value:function(o){this.tribute.current.element=o;var u=this.tribute.range.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);u&&(this.tribute.current.selectedPath=u.mentionSelectedPath,this.tribute.current.mentionText=u.mentionText,this.tribute.current.selectedOffset=u.mentionSelectedOffset)}},{key:"callbacks",value:function(){var o=this;return{triggerChar:function(u,a,c){var l=o.tribute;l.current.trigger=c;var s=l.collection.find(function(o){return o.trigger===c});l.current.collection=s,l.current.mentionText.length>=l.current.collection.menuShowMinLength&&l.inputEvent&&l.showMenuFor(a,!0)},enter:function(u,a){o.tribute.isActive&&o.tribute.current.filteredItems&&(u.preventDefault(),u.stopPropagation(),setTimeout(function(){o.tribute.selectItemAtIndex(o.tribute.menuSelected,u),o.tribute.hideMenu()},0))},escape:function(u,a){o.tribute.isActive&&(u.preventDefault(),u.stopPropagation(),o.tribute.isActive=!1,o.tribute.hideMenu())},tab:function(u,a){o.callbacks().enter(u,a)},space:function(u,a){o.tribute.isActive&&(o.tribute.spaceSelectsMatch?o.callbacks().enter(u,a):o.tribute.allowSpaces||(u.stopPropagation(),setTimeout(function(){o.tribute.hideMenu(),o.tribute.isActive=!1},0)))},up:function(u,a){if(o.tribute.isActive&&o.tribute.current.filteredItems){u.preventDefault(),u.stopPropagation();var c=o.tribute.current.filteredItems.length,l=o.tribute.menuSelected;c>l&&l>0?(o.tribute.menuSelected--,o.setActiveLi()):0===l&&(o.tribute.menuSelected=c-1,o.setActiveLi(),o.tribute.menu.scrollTop=o.tribute.menu.scrollHeight)}},down:function(u,a){if(o.tribute.isActive&&o.tribute.current.filteredItems){u.preventDefault(),u.stopPropagation();var c=o.tribute.current.filteredItems.length-1,l=o.tribute.menuSelected;c>l?(o.tribute.menuSelected++,o.setActiveLi()):c===l&&(o.tribute.menuSelected=0,o.setActiveLi(),o.tribute.menu.scrollTop=0)}},delete:function(u,a){o.tribute.isActive&&o.tribute.current.mentionText.length<1?o.tribute.hideMenu():o.tribute.isActive&&o.tribute.showMenuFor(a)}}}},{key:"setActiveLi",value:function(o){var u=this.tribute.menu.querySelectorAll("li"),a=u.length>>>0;o&&(this.tribute.menuSelected=parseInt(o));for(var c=0;c<a;c++){var l=u[c];if(c===this.tribute.menuSelected){l.classList.add(this.tribute.current.collection.selectClass);var s=l.getBoundingClientRect(),h=this.tribute.menu.getBoundingClientRect();if(s.bottom>h.bottom){var d=s.bottom-h.bottom;this.tribute.menu.scrollTop+=d}else if(s.top<h.top){var f=h.top-s.top;this.tribute.menu.scrollTop-=f}}else l.classList.remove(this.tribute.current.collection.selectClass)}}},{key:"getFullHeight",value:function(o,u){var a=o.getBoundingClientRect().height;if(u){var c=o.currentStyle||window.getComputedStyle(o);return a+parseFloat(c.marginTop)+parseFloat(c.marginBottom)}return a}}],[{key:"keys",value:function(){return[{key:9,value:"TAB"},{key:8,value:"DELETE"},{key:13,value:"ENTER"},{key:27,value:"ESCAPE"},{key:32,value:"SPACE"},{key:38,value:"UP"},{key:40,value:"DOWN"}]}}]),t}(),u=function(){function t(o){e(this,t),this.tribute=o,this.tribute.menuEvents=this,this.menu=this.tribute.menu}return n(t,[{key:"bind",value:function(o){var u=this;this.menuClickEvent=this.tribute.events.click.bind(null,this),this.menuContainerScrollEvent=this.debounce(function(){u.tribute.isActive&&u.tribute.showMenuFor(u.tribute.current.element,!1)},300,!1),this.windowResizeEvent=this.debounce(function(){u.tribute.isActive&&u.tribute.range.positionMenuAtCaret(!0)},300,!1),this.tribute.range.getDocument().addEventListener("MSPointerDown",this.menuClickEvent,!1),this.tribute.range.getDocument().addEventListener("mousedown",this.menuClickEvent,!1),window.addEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.addEventListener("scroll",this.menuContainerScrollEvent,!1):window.addEventListener("scroll",this.menuContainerScrollEvent)}},{key:"unbind",value:function(o){this.tribute.range.getDocument().removeEventListener("mousedown",this.menuClickEvent,!1),this.tribute.range.getDocument().removeEventListener("MSPointerDown",this.menuClickEvent,!1),window.removeEventListener("resize",this.windowResizeEvent),this.menuContainer?this.menuContainer.removeEventListener("scroll",this.menuContainerScrollEvent,!1):window.removeEventListener("scroll",this.menuContainerScrollEvent)}},{key:"debounce",value:function(o,u,a){var c,l=arguments,s=this;return function(){var h=s,d=l,f=a&&!c;clearTimeout(c),c=setTimeout(function(){c=null,a||o.apply(h,d)},u),f&&o.apply(h,d)}}}]),t}(),a=function(){function t(o){e(this,t),this.tribute=o,this.tribute.range=this}return n(t,[{key:"getDocument",value:function(){var o;return this.tribute.current.collection&&(o=this.tribute.current.collection.iframe),o?o.contentWindow.document:document}},{key:"positionMenuAtCaret",value:function(o){var u,a=this,c=this.tribute.current,l=this.getTriggerInfo(!1,this.tribute.hasTrailingSpace,!0,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(void 0!==l){if(!this.tribute.positionMenu)return void(this.tribute.menu.style.cssText="display: block;");u=this.isContentEditable(c.element)?this.getContentEditableCaretPosition(l.mentionPosition):this.getTextAreaOrInputUnderlinePosition(this.tribute.current.element,l.mentionPosition),this.tribute.menu.style.cssText="top: ".concat(u.top,"px;\n                                     left: ").concat(u.left,"px;\n                                     right: ").concat(u.right,"px;\n                                     bottom: ").concat(u.bottom,"px;\n                                     position: absolute;\n                                     display: block;"),"auto"===u.left&&(this.tribute.menu.style.left="auto"),"auto"===u.top&&(this.tribute.menu.style.top="auto"),o&&this.scrollIntoView(),window.setTimeout(function(){var c={width:a.tribute.menu.offsetWidth,height:a.tribute.menu.offsetHeight},l=a.isMenuOffScreen(u,c),s=window.innerWidth>c.width&&(l.left||l.right),h=window.innerHeight>c.height&&(l.top||l.bottom);(s||h)&&(a.tribute.menu.style.cssText="display: none",a.positionMenuAtCaret(o))},0)}else this.tribute.menu.style.cssText="display: none"}},{key:"selectElement",value:function(o,u,a){var c,l=o;if(u)for(var s=0;s<u.length;s++){if(void 0===(l=l.childNodes[u[s]]))return;for(;l.length<a;)a-=l.length,l=l.nextSibling;0!==l.childNodes.length||l.length||(l=l.previousSibling)}var h=this.getWindowSelection();(c=this.getDocument().createRange()).setStart(l,a),c.setEnd(l,a),c.collapse(!0);try{h.removeAllRanges()}catch(o){}h.addRange(c),o.focus()}},{key:"replaceTriggerText",value:function(o,u,a,c,l){var s=this.getTriggerInfo(!0,a,u,this.tribute.allowSpaces,this.tribute.autocompleteMode);if(void 0!==s){var h=this.tribute.current,d=new CustomEvent("tribute-replaced",{detail:{item:l,instance:h,context:s,event:c}});if(this.isContentEditable(h.element)){o+="string"==typeof this.tribute.replaceTextSuffix?this.tribute.replaceTextSuffix:" ";var f=s.mentionPosition+s.mentionText.length;this.tribute.autocompleteMode||(f+=s.mentionTriggerChar.length),this.pasteHtml(o,s.mentionPosition,f)}else{var p=this.tribute.current.element,m="string"==typeof this.tribute.replaceTextSuffix?this.tribute.replaceTextSuffix:" ";o+=m;var v=s.mentionPosition,g=s.mentionPosition+s.mentionText.length+m.length;this.tribute.autocompleteMode||(g+=s.mentionTriggerChar.length-1),p.value=p.value.substring(0,v)+o+p.value.substring(g,p.value.length),p.selectionStart=v+o.length,p.selectionEnd=v+o.length}h.element.dispatchEvent(new CustomEvent("input",{bubbles:!0})),h.element.dispatchEvent(d)}}},{key:"pasteHtml",value:function(o,u,a){var c,l;l=this.getWindowSelection(),(c=this.getDocument().createRange()).setStart(l.anchorNode,u),c.setEnd(l.anchorNode,a),c.deleteContents();var s=this.getDocument().createElement("div");s.innerHTML=o;for(var h,d,f=this.getDocument().createDocumentFragment();h=s.firstChild;)d=f.appendChild(h);c.insertNode(f),d&&((c=c.cloneRange()).setStartAfter(d),c.collapse(!0),l.removeAllRanges(),l.addRange(c))}},{key:"getWindowSelection",value:function(){return this.tribute.collection.iframe?this.tribute.collection.iframe.contentWindow.getSelection():window.getSelection()}},{key:"getNodePositionInParent",value:function(o){if(null===o.parentNode)return 0;for(var u=0;u<o.parentNode.childNodes.length;u++){if(o.parentNode.childNodes[u]===o)return u}}},{key:"getContentEditableSelectedPath",value:function(o){var u=this.getWindowSelection(),a=u.anchorNode,c=[];if(null!=a){for(var l,s=a.contentEditable;null!==a&&"true"!==s;)l=this.getNodePositionInParent(a),c.push(l),null!==(a=a.parentNode)&&(s=a.contentEditable);return c.reverse(),{selected:a,path:c,offset:u.getRangeAt(0).startOffset}}}},{key:"getTextPrecedingCurrentSelection",value:function(){var o=this.tribute.current,u="";if(this.isContentEditable(o.element)){var a=this.getWindowSelection().anchorNode;if(null!=a){var c=a.textContent,l=this.getWindowSelection().getRangeAt(0).startOffset;c&&l>=0&&(u=c.substring(0,l))}}else{var s=this.tribute.current.element;if(s){var h=s.selectionStart;s.value&&h>=0&&(u=s.value.substring(0,h))}}return u}},{key:"getLastWordInText",value:function(o){var u=(o=o.replace(/\u00A0/g," ")).split(/\s+/);return u[u.length-1].trim()}},{key:"getTriggerInfo",value:function(o,u,a,c,l){var s,h,d,f=this,p=this.tribute.current;if(this.isContentEditable(p.element)){var m=this.getContentEditableSelectedPath(p);m&&(s=m.selected,h=m.path,d=m.offset)}else s=this.tribute.current.element;var v=this.getTextPrecedingCurrentSelection(),g=this.getLastWordInText(v);if(l)return{mentionPosition:v.length-g.length,mentionText:g,mentionSelectedElement:s,mentionSelectedPath:h,mentionSelectedOffset:d};if(null!=v){var b,w=-1;if(this.tribute.collection.forEach(function(o){var u=o.trigger,c=o.requireLeadingSpace?f.lastIndexWithLeadingSpace(v,u):v.lastIndexOf(u);c>w&&(w=c,b=u,a=o.requireLeadingSpace)}),w>=0&&(0===w||!a||/[\xA0\s]/g.test(v.substring(w-1,w)))){var y=v.substring(w+b.length,v.length);b=v.substring(w,w+b.length);var T=y.substring(0,1),k=y.length>0&&(" "===T||" "===T);u&&(y=y.trim());var C=c?/[^\S ]/g:/[\xA0\s]/g;if(this.tribute.hasTrailingSpace=C.test(y),!k&&(o||!C.test(y)))return{mentionPosition:w,mentionText:y,mentionSelectedElement:s,mentionSelectedPath:h,mentionSelectedOffset:d,mentionTriggerChar:b}}}}},{key:"lastIndexWithLeadingSpace",value:function(o,u){for(var a=o.split("").reverse().join(""),c=-1,l=0,s=o.length;l<s;l++){for(var h=l===o.length-1,d=/\s/.test(a[l+1]),f=!0,p=u.length-1;p>=0;p--)if(u[p]!==a[l-p]){f=!1;break}if(f&&(h||d)){c=o.length-1-l;break}}return c}},{key:"isContentEditable",value:function(o){return"INPUT"!==o.nodeName&&"TEXTAREA"!==o.nodeName}},{key:"isMenuOffScreen",value:function(o,u){var a=window.innerWidth,c=window.innerHeight,l=document.documentElement,s=(window.pageXOffset||l.scrollLeft)-(l.clientLeft||0),h=(window.pageYOffset||l.scrollTop)-(l.clientTop||0),d="number"==typeof o.top?o.top:h+c-o.bottom-u.height,f="number"==typeof o.right?o.right:o.left+u.width,p="number"==typeof o.bottom?o.bottom:o.top+u.height,m="number"==typeof o.left?o.left:s+a-o.right-u.width;return{top:d<Math.floor(h),right:f>Math.ceil(s+a),bottom:p>Math.ceil(h+c),left:m<Math.floor(s)}}},{key:"getMenuDimensions",value:function(){var o={width:null,height:null};return this.tribute.menu.style.cssText="top: 0px;\n                                 left: 0px;\n                                 position: fixed;\n                                 display: block;\n                                 visibility; hidden;",o.width=this.tribute.menu.offsetWidth,o.height=this.tribute.menu.offsetHeight,this.tribute.menu.style.cssText="display: none;",o}},{key:"getTextAreaOrInputUnderlinePosition",value:function(o,u,a){var c=null!==window.mozInnerScreenX,l=this.getDocument().createElement("div");l.id="input-textarea-caret-position-mirror-div",this.getDocument().body.appendChild(l);var s=l.style,h=window.getComputedStyle?getComputedStyle(o):o.currentStyle;s.whiteSpace="pre-wrap","INPUT"!==o.nodeName&&(s.wordWrap="break-word"),s.position="absolute",s.visibility="hidden",["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"].forEach(function(o){s[o]=h[o]}),c?(s.width="".concat(parseInt(h.width)-2,"px"),o.scrollHeight>parseInt(h.height)&&(s.overflowY="scroll")):s.overflow="hidden",l.textContent=o.value.substring(0,u),"INPUT"===o.nodeName&&(l.textContent=l.textContent.replace(/\s/g," "));var d=this.getDocument().createElement("span");d.textContent=o.value.substring(u)||".",l.appendChild(d);var f=o.getBoundingClientRect(),p=document.documentElement,m=(window.pageXOffset||p.scrollLeft)-(p.clientLeft||0),v=(window.pageYOffset||p.scrollTop)-(p.clientTop||0),g=0,b=0;this.menuContainerIsBody&&(g=f.top,b=f.left);var w={top:g+v+d.offsetTop+parseInt(h.borderTopWidth)+parseInt(h.fontSize)-o.scrollTop,left:b+m+d.offsetLeft+parseInt(h.borderLeftWidth)},y=window.innerWidth,T=window.innerHeight,k=this.getMenuDimensions(),C=this.isMenuOffScreen(w,k);C.right&&(w.right=y-w.left,w.left="auto");var S=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(C.bottom){var E=S-(T-(this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect()).top);w.bottom=E+(T-f.top-d.offsetTop),w.top="auto"}return(C=this.isMenuOffScreen(w,k)).left&&(w.left=y>k.width?m+y-k.width:m,delete w.right),C.top&&(w.top=T>k.height?v+T-k.height:v,delete w.bottom),this.getDocument().body.removeChild(l),w}},{key:"getContentEditableCaretPosition",value:function(o){var u,a=this.getWindowSelection();(u=this.getDocument().createRange()).setStart(a.anchorNode,o),u.setEnd(a.anchorNode,o),u.collapse(!1);var c=u.getBoundingClientRect(),l=document.documentElement,s=(window.pageXOffset||l.scrollLeft)-(l.clientLeft||0),h=(window.pageYOffset||l.scrollTop)-(l.clientTop||0),d={left:c.left+s,top:c.top+c.height+h},f=window.innerWidth,p=window.innerHeight,m=this.getMenuDimensions(),v=this.isMenuOffScreen(d,m);v.right&&(d.left="auto",d.right=f-c.left-s);var g=this.tribute.menuContainer?this.tribute.menuContainer.offsetHeight:this.getDocument().body.offsetHeight;if(v.bottom){var b=g-(p-(this.tribute.menuContainer?this.tribute.menuContainer.getBoundingClientRect():this.getDocument().body.getBoundingClientRect()).top);d.top="auto",d.bottom=b+(p-c.top)}return(v=this.isMenuOffScreen(d,m)).left&&(d.left=f>m.width?s+f-m.width:s,delete d.right),v.top&&(d.top=p>m.height?h+p-m.height:h,delete d.bottom),this.menuContainerIsBody||(d.left=d.left?d.left-this.tribute.menuContainer.offsetLeft:d.left,d.top=d.top?d.top-this.tribute.menuContainer.offsetTop:d.top),d}},{key:"scrollIntoView",value:function(o){var u,a=this.menu;if(void 0!==a){for(;void 0===u||0===u.height;)if(0===(u=a.getBoundingClientRect()).height&&(void 0===(a=a.childNodes[0])||!a.getBoundingClientRect))return;var c=u.top,l=c+u.height;if(c<0)window.scrollTo(0,window.pageYOffset+u.top-20);else if(l>window.innerHeight){var s=window.pageYOffset+u.top-20;s-window.pageYOffset>100&&(s=window.pageYOffset+100);var h=window.pageYOffset-(window.innerHeight-l);h>s&&(h=s),window.scrollTo(0,h)}}}},{key:"menuContainerIsBody",get:function(){return this.tribute.menuContainer===document.body||!this.tribute.menuContainer}}]),t}(),c=function(){function t(o){e(this,t),this.tribute=o,this.tribute.search=this}return n(t,[{key:"simpleFilter",value:function(o,u){var a=this;return u.filter(function(u){return a.test(o,u)})}},{key:"test",value:function(o,u){return null!==this.match(o,u)}},{key:"match",value:function(o,u,a){a=a||{};u.length;var c=a.pre||"",l=a.post||"",s=a.caseSensitive&&u||u.toLowerCase();if(a.skip)return{rendered:u,score:0};o=a.caseSensitive&&o||o.toLowerCase();var h=this.traverse(s,o,0,0,[]);return h?{rendered:this.render(u,h.cache,c,l),score:h.score}:null}},{key:"traverse",value:function(o,u,a,c,l){if(u.length===c)return{score:this.calculateScore(l),cache:l.slice()};if(!(o.length===a||u.length-c>o.length-a)){for(var s,h,d=u[c],f=o.indexOf(d,a);f>-1;){if(l.push(f),h=this.traverse(o,u,f+1,c+1,l),l.pop(),!h)return s;(!s||s.score<h.score)&&(s=h),f=o.indexOf(d,f+1)}return s}}},{key:"calculateScore",value:function(o){var u=0,a=1;return o.forEach(function(c,l){l>0&&(o[l-1]+1===c?a+=a+1:a=1),u+=a}),u}},{key:"render",value:function(o,u,a,c){var l=o.substring(0,u[0]);return u.forEach(function(s,h){l+=a+o[s]+c+o.substring(s+1,u[h+1]?u[h+1]:o.length)}),l}},{key:"filter",value:function(o,u,a){var c=this;return a=a||{},u.reduce(function(u,l,s,h){var d=l;a.extract&&((d=a.extract(l))||(d=""));var f=c.match(o,d,a);return null!=f&&(u[u.length]={string:f.rendered,score:f.score,index:s,original:l}),u},[]).sort(function(o,u){var a=u.score-o.score;return a||o.index-u.index})}}]),t}();return function(){function t(l){var s,h=this,d=l.values,f=void 0===d?null:d,p=l.iframe,m=void 0===p?null:p,v=l.selectClass,g=void 0===v?"highlight":v,b=l.containerClass,w=void 0===b?"tribute-container":b,y=l.itemClass,T=void 0===y?"":y,k=l.trigger,C=void 0===k?"@":k,S=l.autocompleteMode,E=void 0!==S&&S,_=l.selectTemplate,x=void 0===_?null:_,M=l.menuItemTemplate,A=void 0===M?null:M,L=l.lookup,I=void 0===L?"key":L,N=l.fillAttr,O=void 0===N?"value":N,P=l.collection,D=void 0===P?null:P,R=l.menuContainer,W=void 0===R?null:R,H=l.noMatchTemplate,q=void 0===H?null:H,z=l.requireLeadingSpace,B=void 0===z||z,F=l.allowSpaces,j=void 0!==F&&F,Y=l.replaceTextSuffix,K=void 0===Y?null:Y,U=l.positionMenu,X=void 0===U||U,Q=l.spaceSelectsMatch,V=void 0!==Q&&Q,G=l.searchOpts,J=void 0===G?{}:G,Z=l.menuItemLimit,$=void 0===Z?null:Z,ee=l.menuShowMinLength,te=void 0===ee?0:ee;if(e(this,t),this.autocompleteMode=E,this.menuSelected=0,this.current={},this.inputEvent=!1,this.isActive=!1,this.menuContainer=W,this.allowSpaces=j,this.replaceTextSuffix=K,this.positionMenu=X,this.hasTrailingSpace=!1,this.spaceSelectsMatch=V,this.autocompleteMode&&(C="",j=!1),f)this.collection=[{trigger:C,iframe:m,selectClass:g,containerClass:w,itemClass:T,selectTemplate:(x||t.defaultSelectTemplate).bind(this),menuItemTemplate:(A||t.defaultMenuItemTemplate).bind(this),noMatchTemplate:(s=q,"string"==typeof s?""===s.trim()?null:s:"function"==typeof s?s.bind(h):q||function(){return"<li>No Match Found!</li>"}.bind(h)),lookup:I,fillAttr:O,values:f,requireLeadingSpace:B,searchOpts:J,menuItemLimit:$,menuShowMinLength:te}];else{if(!D)throw new Error("[Tribute] No collection specified.");this.autocompleteMode&&console.warn("Tribute in autocomplete mode does not work for collections"),this.collection=D.map(function(o){return{trigger:o.trigger||C,iframe:o.iframe||m,selectClass:o.selectClass||g,containerClass:o.containerClass||w,itemClass:o.itemClass||T,selectTemplate:(o.selectTemplate||t.defaultSelectTemplate).bind(h),menuItemTemplate:(o.menuItemTemplate||t.defaultMenuItemTemplate).bind(h),noMatchTemplate:function(o){return"string"==typeof o?""===o.trim()?null:o:"function"==typeof o?o.bind(h):q||function(){return"<li>No Match Found!</li>"}.bind(h)}(q),lookup:o.lookup||I,fillAttr:o.fillAttr||O,values:o.values,requireLeadingSpace:o.requireLeadingSpace,searchOpts:o.searchOpts||J,menuItemLimit:o.menuItemLimit||$,menuShowMinLength:o.menuShowMinLength||te}})}new a(this),new o(this),new u(this),new c(this)}return n(t,[{key:"triggers",value:function(){return this.collection.map(function(o){return o.trigger})}},{key:"attach",value:function(o){if(!o)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if("undefined"!=typeof jQuery&&o instanceof jQuery&&(o=o.get()),o.constructor===NodeList||o.constructor===HTMLCollection||o.constructor===Array)for(var u=o.length,a=0;a<u;++a)this._attach(o[a]);else this._attach(o)}},{key:"_attach",value:function(o){o.hasAttribute("data-tribute")&&console.warn("Tribute was already bound to "+o.nodeName),this.ensureEditable(o),this.events.bind(o),o.setAttribute("data-tribute",!0)}},{key:"ensureEditable",value:function(o){if(-1===t.inputTypes().indexOf(o.nodeName)){if(!o.contentEditable)throw new Error("[Tribute] Cannot bind to "+o.nodeName);o.contentEditable=!0}}},{key:"createMenu",value:function(o){var u=this.range.getDocument().createElement("div"),a=this.range.getDocument().createElement("ul");return u.className=o,u.appendChild(a),this.menuContainer?this.menuContainer.appendChild(u):this.range.getDocument().body.appendChild(u)}},{key:"showMenuFor",value:function(o,u){var a=this;if(!this.isActive||this.current.element!==o||this.current.mentionText!==this.currentMentionTextSnapshot){this.currentMentionTextSnapshot=this.current.mentionText,this.menu||(this.menu=this.createMenu(this.current.collection.containerClass),o.tributeMenu=this.menu,this.menuEvents.bind(this.menu)),this.isActive=!0,this.menuSelected=0,this.current.mentionText||(this.current.mentionText="");var r=function(o){if(a.isActive){var c=a.search.filter(a.current.mentionText,o,{pre:a.current.collection.searchOpts.pre||"<span>",post:a.current.collection.searchOpts.post||"</span>",skip:a.current.collection.searchOpts.skip,extract:function(o){if("string"==typeof a.current.collection.lookup)return o[a.current.collection.lookup];if("function"==typeof a.current.collection.lookup)return a.current.collection.lookup(o,a.current.mentionText);throw new Error("Invalid lookup attribute, lookup must be string or function.")}});a.current.collection.menuItemLimit&&(c=c.slice(0,a.current.collection.menuItemLimit)),a.current.filteredItems=c;var l=a.menu.querySelector("ul");if(a.range.positionMenuAtCaret(u),!c.length){var s=new CustomEvent("tribute-no-match",{detail:a.menu});return a.current.element.dispatchEvent(s),void("function"==typeof a.current.collection.noMatchTemplate&&!a.current.collection.noMatchTemplate()||!a.current.collection.noMatchTemplate?a.hideMenu():"function"==typeof a.current.collection.noMatchTemplate?l.innerHTML=a.current.collection.noMatchTemplate():l.innerHTML=a.current.collection.noMatchTemplate)}l.innerHTML="";var h=a.range.getDocument().createDocumentFragment();c.forEach(function(o,u){var c=a.range.getDocument().createElement("li");c.setAttribute("data-index",u),c.className=a.current.collection.itemClass,c.addEventListener("mousemove",function(o){var u=i(a._findLiTarget(o.target),2),c=(u[0],u[1]);0!==o.movementY&&a.events.setActiveLi(c)}),a.menuSelected===u&&c.classList.add(a.current.collection.selectClass),c.innerHTML=a.current.collection.menuItemTemplate(o),h.appendChild(c)}),l.appendChild(h)}};"function"==typeof this.current.collection.values?this.current.collection.values(this.current.mentionText,r):r(this.current.collection.values)}}},{key:"_findLiTarget",value:function(o){if(!o)return[];var u=o.getAttribute("data-index");return u?[o,u]:this._findLiTarget(o.parentNode)}},{key:"showMenuForCollection",value:function(o,u){o!==document.activeElement&&this.placeCaretAtEnd(o),this.current.collection=this.collection[u||0],this.current.externalTrigger=!0,this.current.element=o,o.isContentEditable?this.insertTextAtCursor(this.current.collection.trigger):this.insertAtCaret(o,this.current.collection.trigger),this.showMenuFor(o)}},{key:"placeCaretAtEnd",value:function(o){if(o.focus(),void 0!==window.getSelection&&void 0!==document.createRange){var u=document.createRange();u.selectNodeContents(o),u.collapse(!1);var a=window.getSelection();a.removeAllRanges(),a.addRange(u)}else if(void 0!==document.body.createTextRange){var c=document.body.createTextRange();c.moveToElementText(o),c.collapse(!1),c.select()}}},{key:"insertTextAtCursor",value:function(o){var u,a;(a=(u=window.getSelection()).getRangeAt(0)).deleteContents();var c=document.createTextNode(o);a.insertNode(c),a.selectNodeContents(c),a.collapse(!1),u.removeAllRanges(),u.addRange(a)}},{key:"insertAtCaret",value:function(o,u){var a=o.scrollTop,c=o.selectionStart,l=o.value.substring(0,c),s=o.value.substring(o.selectionEnd,o.value.length);o.value=l+u+s,c+=u.length,o.selectionStart=c,o.selectionEnd=c,o.focus(),o.scrollTop=a}},{key:"hideMenu",value:function(){this.menu&&(this.menu.style.cssText="display: none;",this.isActive=!1,this.menuSelected=0,this.current={})}},{key:"selectItemAtIndex",value:function(o,u){if("number"==typeof(o=parseInt(o))&&!isNaN(o)){var a=this.current.filteredItems[o],c=this.current.collection.selectTemplate(a);null!==c&&this.replaceText(c,u,a)}}},{key:"replaceText",value:function(o,u,a){this.range.replaceTriggerText(o,!0,!0,u,a)}},{key:"_append",value:function(o,u,a){if("function"==typeof o.values)throw new Error("Unable to append to values, as it is a function.");o.values=a?u:o.values.concat(u)}},{key:"append",value:function(o,u,a){var c=parseInt(o);if("number"!=typeof c)throw new Error("please provide an index for the collection to update.");var l=this.collection[c];this._append(l,u,a)}},{key:"appendCurrent",value:function(o,u){if(!this.isActive)throw new Error("No active state. Please use append instead and pass an index.");this._append(this.current.collection,o,u)}},{key:"detach",value:function(o){if(!o)throw new Error("[Tribute] Must pass in a DOM node or NodeList.");if("undefined"!=typeof jQuery&&o instanceof jQuery&&(o=o.get()),o.constructor===NodeList||o.constructor===HTMLCollection||o.constructor===Array)for(var u=o.length,a=0;a<u;++a)this._detach(o[a]);else this._detach(o)}},{key:"_detach",value:function(o){var u=this;this.events.unbind(o),o.tributeMenu&&this.menuEvents.unbind(o.tributeMenu),setTimeout(function(){o.removeAttribute("data-tribute"),u.isActive=!1,o.tributeMenu&&o.tributeMenu.remove()})}},{key:"isActive",get:function(){return this._isActive},set:function(o){if(this._isActive!=o&&(this._isActive=o,this.current.element)){var u=new CustomEvent("tribute-active-".concat(o));this.current.element.dispatchEvent(u)}}}],[{key:"defaultSelectTemplate",value:function(o){return void 0===o?"".concat(this.current.collection.trigger).concat(this.current.mentionText):this.range.isContentEditable(this.current.element)?'<span class="tribute-mention">'+(this.current.collection.trigger+o.original[this.current.collection.fillAttr])+"</span>":this.current.collection.trigger+o.original[this.current.collection.fillAttr]}},{key:"defaultMenuItemTemplate",value:function(o){return o.string}},{key:"inputTypes",value:function(){return["TEXTAREA","INPUT"]}}]),t}()})}};var __webpack_module_cache__={};function __webpack_require__(o){var u=__webpack_module_cache__[o];if(u!==undefined){return u.exports}var a=__webpack_module_cache__[o]={exports:{}};__webpack_modules__[o].call(a.exports,a,a.exports,__webpack_require__);return a.exports}(()=>{__webpack_require__.n=o=>{var u=o&&o.__esModule?()=>o["default"]:()=>o;__webpack_require__.d(u,{a:u});return u}})();(()=>{__webpack_require__.d=(o,u)=>{for(var a in u){if(__webpack_require__.o(u,a)&&!__webpack_require__.o(o,a)){Object.defineProperty(o,a,{enumerable:true,get:u[a]})}}}})();(()=>{__webpack_require__.o=(o,u)=>Object.prototype.hasOwnProperty.call(o,u)})();(()=>{__webpack_require__.r=o=>{if(typeof Symbol!=="undefined"&&Symbol.toStringTag){Object.defineProperty(o,Symbol.toStringTag,{value:"Module"})}Object.defineProperty(o,"__esModule",{value:true})}})();var __webpack_exports__={};(()=>{"use strict";__webpack_require__.r(__webpack_exports__);var o=__webpack_require__(897);var u=__webpack_require__.n(o);var a=[];function wp_zinc_autocomplete_setup(){a=[];wpzinc_autocomplete.forEach(function(o,c){var l=[];o.triggers.forEach(function(o,u){o.selectTemplate=function(o){return o.original.value};if("url"in o){o.values=function(u,a){data=new FormData;data.append("action",o.action);data.append("nonce",o.nonce);data.append("search",u);fetch(o.url,{method:o.method,credentials:"same-origin",body:data}).then(function(o){return o.json()}).then(function(o){a(o.data)}).catch(function(o){console.error(o)})}}l.push(o)});var s=new(u())({collection:l});a.push({fields:o.fields,instance:s})})}function wp_zinc_autocomplete_initialize(){a.forEach(function(o,u){o.fields.forEach(function(u,a){document.querySelectorAll(u).forEach(function(u){if(!u.dataset.tributeAttached){o.instance.attach(u);u.dataset.tributeAttached="true"}})})})}function wp_zinc_autocomplete_destroy(){a.forEach(function(o,u){o.fields.forEach(function(u,a){o.instance.detach(document.querySelectorAll(u))})});a=[]}wp_zinc_autocomplete_setup();wp_zinc_autocomplete_initialize();const c=new MutationObserver(function(o){o.forEach(function(){wp_zinc_autocomplete_initialize()})});c.observe(document.body,{childList:true,subtree:true})})();